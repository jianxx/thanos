load("@io_bazel_rules_go//go:def.bzl", "go_test")

go_test(
    name = "e2e_test",
    srcs = [
        "compact_test.go",
        "exemplars_api_test.go",
        "metadata_api_test.go",
        "query_frontend_test.go",
        "query_test.go",
        "receive_test.go",
        "rule_test.go",
        "rules_api_test.go",
        "store_gateway_test.go",
        "targets_api_test.go",
        "tools_bucket_web_test.go",
    ],
    deps = [
        "//pkg/alert",
        "//pkg/api/blocks",
        "//pkg/block",
        "//pkg/block/metadata",
        "//pkg/cacheutil",
        "//pkg/compact",
        "//pkg/exemplars/exemplarspb",
        "//pkg/http",
        "//pkg/metadata/metadatapb",
        "//pkg/objstore",
        "//pkg/objstore/client",
        "//pkg/objstore/s3",
        "//pkg/promclient",
        "//pkg/query",
        "//pkg/queryfrontend",
        "//pkg/receive",
        "//pkg/rules/rulespb",
        "//pkg/runutil",
        "//pkg/store/labelpb",
        "//pkg/store/storepb",
        "//pkg/targets/targetspb",
        "//pkg/testutil",
        "//pkg/testutil/e2eutil",
        "//test/e2e/e2ethanos",
        "@com_github_chromedp_cdproto//network",
        "@com_github_chromedp_chromedp//:chromedp",
        "@com_github_cortexproject_cortex//integration/e2e",
        "@com_github_cortexproject_cortex//integration/e2e/db",
        "@com_github_go_kit_kit//log",
        "@com_github_oklog_ulid//:ulid",
        "@com_github_pkg_errors//:errors",
        "@com_github_prometheus_client_golang//prometheus",
        "@com_github_prometheus_client_golang//prometheus/promauto",
        "@com_github_prometheus_common//model",
        "@com_github_prometheus_prometheus//discovery/targetgroup",
        "@com_github_prometheus_prometheus//pkg/labels",
        "@com_github_prometheus_prometheus//pkg/relabel",
        "@com_github_prometheus_prometheus//pkg/timestamp",
        "@in_gopkg_yaml_v2//:yaml_v2",
    ],
)
